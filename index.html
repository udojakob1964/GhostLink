<!DOCTYPE html>
<html lang="en">

<head>
  <title>GhostLink</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script defer src="script.js"></script>
  <link rel="manifest" href="manifest.json">

  <style>
    .battery-container {
        width: 300px;
        margin: 20px auto;
        text-align: center;
    }
  </style>
</head>

<body>

  <div class="container-fluid p-5 bg-primary text-white text-center">
    <h1><i class="bi bi-chat-dots-fill"></i> GhostLink V 0.2</h1>
    <p>Your hidden link to the worlds knowledge.</p>
  </div>

  <div class="accordion" id="accordionPanelsStayOpenExample">
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse"
          data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
          Connect Remote Control
        </button>
      </h2>
      <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
        <div class="accordion-body">
          <p>At the time being <strong>only Puck.js</strong> is accepted as remote control. To start a request you have
            to connect to your Puck first!</p>
          <p>Press the Puck button down while talking. When you release the button, the request will be transcripted and
            sent to ChatGPT. The response will be transformed into speech again.</p>
          <button id="connectBluetoothDevice">Scan for Remote Control</button>
          <p></p>
      <!--</div>
          <div class="battery-container">
          <p>ðŸ”‹ Battery Level</p>  -->
          <div class="progress" style="height: 30px;">
              <div id="batteryBar" class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
          </div>
          
      <!--</div> -->

      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
          Modify Prompt
        </button>
      </h2>
      <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
        <div class="accordion-body">
         <strong>TODO:</strong> Within this section you will be able to choose and modify a certain promt that will be set in front of your 
          transcribed voice input. This will help to specify the context of your requests and questions to ChatGPT. Use it e.g. to get precise short answers or fun facts around a certain topic etc.
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
          aria-controls="panelsStayOpen-collapseThree">
          Logging / Status
        </button>
      </h2>
      <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse">
        <div class="accordion-body">
          <p id="status">ðŸ”´ Not connected!</p>
        </div>
      </div>
    </div>
  </div>

</body>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js')
      .then((registration) => {
        console.log('Service Worker registered with scope:', registration.scope);
      })
      .catch((error) => {
        console.log('Service Worker registration failed:', error);
      });
  }
</script>

</html>